<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>CRUD de Alunos Corrigido</title>

<style>

body{
font-family: Arial;
background-color: #f0f0f0;
padding: 20px;
}

h1{
color: #333;
}

input{
padding: 5px;
margin: 5px;
}

button{
padding: 5px 10px;
margin: 5px;
cursor: pointer;
}

table{
background: white;
border-collapse: collapse;
width: 100%;
}

td, th{
border: 1px solid #ccc;
padding: 8px;
}

</style>

</head>
<body>

<h1>Cadastro de Alunos</h1>

<input type="text" id="nome" placeholder="Nome">
<input type="number" id="idade" placeholder="Idade">
<input type="text" id="serie" placeholder="Série">

<button onclick="criarAluno()">Cadastrar</button>

<br><br>

<table>

<thead>

<tr>

<th>ID</th>
<th>Nome</th>
<th>Idade</th>
<th>Série</th>
<th>Ações</th>

</tr>

</thead>

<tbody id="tabelaAlunos"></tbody>

</table>


<script>

let alunos = []
let proximoId = 1


// CREATE
function criarAluno(){

let nome = document.getElementById("nome").value.trim()
let idade = document.getElementById("idade").value.trim()
let serie = document.getElementById("serie").value.trim()

if(nome === "" || idade === "" || serie === ""){

alert("Preencha todos os campos!")
return

}

let aluno = {

id: proximoId++,
nome: nome,
idade: Number(idade),
serie: serie

}

alunos.push(aluno)

limparCampos()

listarAlunos()

}


// READ
function listarAlunos(){

let tabela = document.getElementById("tabelaAlunos")

tabela.innerHTML = ""

for(let i = 0; i < alunos.length; i++){

tabela.innerHTML += `

<tr>

<td>${alunos[i].id}</td>
<td>${alunos[i].nome}</td>
<td>${alunos[i].idade}</td>
<td>${alunos[i].serie}</td>

<td>

<button onclick="editarAluno(${alunos[i].id})">Editar</button>

<button onclick="deletarAluno(${alunos[i].id})">Excluir</button>

</td>

</tr>

`

}

}


// UPDATE
function editarAluno(id){

for(let i = 0; i < alunos.length; i++){

if(alunos[i].id === id){

let novoNome = prompt("Nome:", alunos[i].nome)
let novaIdade = prompt("Idade:", alunos[i].idade)
let novaSerie = prompt("Série:", alunos[i].serie)

if(novoNome && novaIdade && novaSerie){

alunos[i].nome = novoNome.trim()
alunos[i].idade = Number(novaIdade)
alunos[i].serie = novaSerie.trim()

}

break

}

}

listarAlunos()

}


// DELETE
function deletarAluno(id){

for(let i = 0; i < alunos.length; i++){

if(alunos[i].id === id){

alunos.splice(i,1)

break

}

}

listarAlunos()

}


// LIMPAR CAMPOS
function limparCampos(){

document.getElementById("nome").value = ""
document.getElementById("idade").value = ""
document.getElementById("serie").value = ""

}


</script>

</body>
</html>